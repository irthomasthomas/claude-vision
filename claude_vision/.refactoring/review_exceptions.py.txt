The refactored code introduces several improvements:

1. Enum for error types: An `AnthropicErrorType` enum is introduced to centralize and standardize error types. This makes it easier to manage and extend error types in the future.

2. Base class enhancement: The `AnthropicError` base class now takes an `error_type` and an optional `message`. This allows for more consistent error handling and messaging across all derived classes.

3. Simplified derived classes: Each specific error class now only needs to call the super constructor with its corresponding error type. This reduces code duplication and makes it easier to add new error types.

4. Improved string representation: The `__str__` method in the base class provides a consistent string representation for all errors, including both the error type name and the message.

5. Optional custom messages: All error classes allow for optional custom messages, falling back to the default message from the enum if none is provided.

6. Type hinting: The code now includes type hints, improving readability and enabling better IDE support and static type checking.

These changes make the code more maintainable, extensible, and consistent while preserving the functionality of the original implementation.